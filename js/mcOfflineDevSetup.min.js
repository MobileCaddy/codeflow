/* Copyright 2016 MobileCaddy Ltd */
function prepSmartStore(a){$j.ajax({url:myUri,success:function(b){console.log("Read from file "+myUri+" OK -> "),tableDefinitions=angular.toJson(b),prepSmartStore2(a)},error:function(a){console.log("Error reading from file"+myUri+" -> "+angular.toJson(a))}})}function prepSmartStore2(a){var b=cordova.require("salesforce/plugin/smartstore"),c=mobileCaddy.require("mobileCaddy/smartStoreUtils");b.removeSoup("syncLib_system_data"),b.registerSoup("syncLib_system_data",[{path:"MC_Var_Integer_006",type:"integer"},{path:"MC_Var_String_002",type:"string"},{path:"MC_Var_String_007",type:"string"},{path:"MC_Var_String_008",type:"string"},{path:"MC_Var_String_011",type:"string"},{path:"MC_Var_Integer_002",type:"integer"},{path:"MC_Var_String_013",type:"string"},{path:"MC_Var_String_005",type:"string"},{path:"MC_Var_String_014",type:"string"},{path:"MC_Var_String_016",type:"string"},{path:"MC_Var_String_019",type:"string"},{path:"MC_Var_Integer_003",type:"integer"},{path:"MC_Var_String_001",type:"string"},{path:"MC_Var_String_010",type:"string"},{path:"MC_Var_Integer_001",type:"integer"},{path:"MC_Var_String_015",type:"string"},{path:"MC_Var_String_006",type:"string"},{path:"MC_Var_String_004",type:"string"},{path:"MC_Var_String_003",type:"string"},{path:"MC_Var_String_017",type:"string"},{path:"MC_Var_Integer_004",type:"integer"},{path:"MC_Var_Integer_005",type:"integer"},{path:"MC_Var_String_009",type:"string"},{path:"MC_Var_String_012",type:"string"},{path:"MC_Var_String_018",type:"string"},{path:"MC_Var_String_020",type:"string"}],function(){console.log("prepSmartStore success")},function(a){console.log("prepSmartStore failure -> "+JSON.stringify(a))});var d=$j.parseJSON(tableDefinitions);b.upsertSoupEntries("syncLib_system_data",d,function(a){console.log("successful upsert with rec count = "+a.length)},function(a){console.log("Error returned from upsert, message =  "+a)}),b.registerSoup("appSoup",[{path:"Name",type:"string"},{path:"CurrentValue",type:"string"},{path:"NewValue",type:"string"}],function(){console.log("prepSmartStore appSoup success")},function(a){console.log("prepSmartStore appSoup failure -> "+JSON.stringify(a))});var e='[{"Name" : "buildVersion","CurrentValue" : "001","NewValue" : "001"},{"Name" : "buildOS","CurrentValue" : "Android","NewValue" : "Android"},{"Name" : "buildName","CurrentValue" : "BIZ001","NewValue" : "BIZ001"},{"Name" : "buildStatus","CurrentValue" : "Initial","NewValue" : "Initial"},{"Name" : "deviceUuid","CurrentValue" : "c86d3e94574debug","NewValue" : "c86d3e94574debug"},{"Name" : "userOverride","CurrentValue" : "005200000013F2vAAE","NewValue" : "005200000013F2vAAE"},{"Name":"audId","CurrentValue":"a2eR0000000Jv6xIAC","NewValue":"a2eR0000000Jv6xIAC"},{"Name":"startPageURL","CurrentValue":"https://cs2.salesforce.com/apex/MobileCaddyDemo006","NewValue":"https://cs2.salesforce.com/apex/MobileCaddyDemo006"},{"Name":"sysDataVersion","CurrentValue":"002","NewValue":"002"},{"Name":"sysDataPlatSupVersion","CurrentValue":"001","NewValue":"001"},{"Name":"versionUtilsVersion","CurrentValue":"001","NewValue":"001"},{"Name":"dynVersionNumber","CurrentValue":"006","NewValue":"006"}]',f=$j.parseJSON(e);b.upsertSoupEntries("appSoup",f,function(){console.log("upsertSoupEntries appSoup success")},function(a){console.log("upsertSoupEntries appSoup failure -> "+JSON.stringify(a))}),b.registerSoup("recsToSync",[{path:"Mobile_Table_Name",type:"string"},{path:"SOUP_Record_Id",type:"string"},{path:"Id",type:"string"},{path:"LastModifiedDateTime",type:"integer"},{path:"CRUD_Operation",type:"string"},{path:"Current_Connection_Session",type:"string"}],function(){console.log("prepSmartStore recsToSync success")},function(a){console.log("prepSmartStore recsToSync failure -> "+JSON.stringify(a))}),b.registerSoup("Connection_Session__mc",[{path:"mobilecaddy1Application_User_Device_AUD__c",type:"string"},{path:"mobilecaddy1MC_Proxy_ID__c",type:"string"},{path:"Session_Created_Location__Latitude__s",type:"floating"},{path:"Session_Created_Location__Longitude__s",type:"floating"},{path:"mobilecaddy1Mobile_Process_Status__c",type:"string"},{path:"Name",type:"string"},{path:"CreatedDate",type:"integer"},{path:"IsDeleted",type:"string"},{path:"LastModifiedDate",type:"integer"},{path:"Id",type:"string"},{path:"mobilecaddy1Session_Type__c",type:"string"},{path:"mobilecaddy1Status__c",type:"string"},{path:"SystemModstamp",type:"integer"},{path:"mobilecaddy1Device_Call_Date_Time__c",type:"floating"},{path:"Session_Created_Location_Error__c",type:"string"}],function(){console.log("prepSmartStore Connection_Session__mc success")},function(a){console.log("prepSmartStore Connection_Session__mc failure -> "+JSON.stringify(a))});var g='[{"mobilecaddy1MC_Proxy_ID__c" : "1"}]',h=$j.parseJSON(g);b.upsertSoupEntries("Connection_Session__mc",h,function(){console.log("upsertSoupEntries Connection_Session__mc success")},function(a){console.log("upsertSoupEntries Connection_Session__mc failure -> "+JSON.stringify(a))}),b.registerSoup("SnapShot_Connection_Session__mc",[{path:"mobilecaddy1Application_User_Device_AUD__c",type:"string"},{path:"mobilecaddy1MC_Proxy_ID__c",type:"string"},{path:"Session_Created_Location__Latitude__s",type:"floating"},{path:"Session_Created_Location__Longitude__s",type:"floating"},{path:"mobilecaddy1Mobile_Process_Status__c",type:"string"},{path:"Name",type:"string"},{path:"CreatedDate",type:"integer"},{path:"IsDeleted",type:"string"},{path:"LastModifiedDate",type:"integer"},{path:"Id",type:"string"},{path:"mobilecaddy1Session_Type__c",type:"string"},{path:"mobilecaddy1Status__c",type:"string"},{path:"SystemModstamp",type:"integer"},{path:"mobilecaddy1Device_Call_Date_Time__c",type:"floating"},{path:"Session_Created_Location_Error__c",type:"string"}],function(){console.log("prepSmartStore Connection_Session__mc success")},function(a){console.log("prepSmartStore Connection_Session__mc failure -> "+JSON.stringify(a))}),b.registerSoup("Mobile_Log__mc",[{path:"Application_User_Device__c",type:"string"},{path:"mobilecaddy1Connection_Session__c",type:"string"},{path:"mobilecaddy1Data_Dump__c",type:"string"},{path:"IsDeleted",type:"string"},{path:"mobilecaddy1Error_Text__c",type:"string"},{path:"Name",type:"string"},{path:"Id",type:"string"},{path:"RecordTypeId",type:"string"},{path:"SystemModstamp",type:"integer"},{path:"mobilecaddy1MC_Proxy_ID__c",type:"string"}],function(){console.log("prepSmartStore Mobile_Log__mc success")},function(a){console.log("prepSmartStore Mobile_Log__mc failure -> "+JSON.stringify(a))}),b.registerSoup("Call_Level__ap",[{path:"mobilecaddy1MC_Proxy_ID__c",type:"string"},{path:"Name",type:"string"},{path:"IsDeleted",type:"string"},{path:"Id",type:"string"},{path:"SystemModstamp",type:"integer"}],function(){console.log("prepSmartStore Call_Level__ap success")},function(a){console.log("prepSmartStore Call_Level__ap failure -> "+JSON.stringify(a))}),c.buildMobileTables(function(){console.info("prepSmartStore buildMobileTables"),a()})}var $j=jQuery.noConflict(),tableDefinitions="",myUri="../../test/tableDefinitions.json";